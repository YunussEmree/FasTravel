<div class="d-flex justify-content-center align-items-center min-vh-100 bg-light" id="bg">
  <div class="container mt-5" id="main">
    <!-- Form -->
    <div class="card shadow p-4 mx-auto" style="max-width: 600px;">
      <div class="row g-3">
        <div class="col-md-6">
          <label for="sonrakidurak" class="form-label">Sonraki Durağı Ekle</label>
          <input
            type="text"
            id="sonrakidurak"
            class="form-control"
            [(ngModel)]="nereye"
            placeholder="Şehir Seçin"
          />
        </div>
        <div class="col-md-6">
          <label for="tarih" class="form-label">Gidiş Tarihi</label>
          <input
            type="date"
            id="tarih"
            class="form-control"
            [(ngModel)]="tarih"
          />
        </div>
        <div class="col-md-12">
          <label for="not" class="form-label">Not Ekle</label>
          <textarea
            id="not"
            class="form-control"
            [(ngModel)]="not"
            placeholder="Not ekleyin..."
          ></textarea>
        </div>
      </div>
      <div class="d-flex justify-content-end mt-3">
        <button *ngIf="!isEditing" class="btn btn-success" (click)="ekle()">Ekle</button>
        <button *ngIf="isEditing" class="btn btn-primary" (click)="kaydet()">Kaydet</button>
      </div>
    </div>

    <div class="mt-4" style="overflow-x: auto;">
      <div class="d-flex flex-row" style="flex-wrap: nowrap;">
        <!-- Location Cards -->
         <div *ngFor="let item of seyahatListesi; let i = index; trackBy: trackByFn" class="card shadow-sm mb-3 mx-2">
          <div class="card-body d-flex align-items-center justify-content-between">
            <div class="d-flex flex-column">
              <h5 [class.text-decoration-line-through]="item.gidildi" class="mb-0 fw-bold">
                {{ item.name }}
              </h5>
              <p class="text-muted mb-2" style="font-size: 0.9rem;">
                Tarih: {{ item.date }}
              </p>
              <p *ngIf="item.note" class="text-muted fst-italic" style="font-size: 0.85rem;">
                Not: {{ item.note }}
              </p>
            </div>
        
            <div class="d-flex align-items-center">
              <!-- Delete Button -->
              <button
                class="btn btn-danger btn-sm rounded-circle me-2"
                (click)="sil(i)"
                title="Sil"
              >
                <i class="bi bi-x"></i>
              </button>
              <!-- Edit Button -->
              <button
                class="btn btn-warning btn-sm rounded-circle me-2"
                (click)="duzenle(i)"
                title="Düzenle"
              >
                <i class="bi bi-pencil"></i>
              </button>
              <!-- TODO: Visited button will be added -->
            </div>
          </div>

          <div *ngIf="i < seyahatListesi.length - 1" class="arrow-icon">
            <i class="bi bi-arrow-right"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
